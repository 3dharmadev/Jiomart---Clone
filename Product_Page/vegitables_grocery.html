<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
</head>
 
 <link rel="stylesheet" href="../navbar/navbar.css">
 <link rel="stylesheet" href="../sidebar/sidebar.css">
<link rel="stylesheet" href="./css/advance.css">
<link rel="stylesheet" href="../footer/footer.css">

<body>
    <div id="sidebar"></div>
    <div id="kcnavbar"> </div>
    
   <img id="img" src="https://www.jiomart.com/images/category/219/fruits-vegetables-20220519.jpeg" alt="">
   <div id="sort">
    <select name="" onclick="filter()" id="filter1">
        <option value="">Search Between</option>
        <option value="50">50</option>
        <option value="90">90</option>
        <option value="150">150</option>
    </select>
    <button onclick="LTH()">Low to High</button>
    <button onclick="HTL()">High to Low</button>
 </div>
    <div id="main">

      <div id="sidebar">

        <h2>Categories</h2>
         <div id="categories">
          
           <h4>> Mobiles & Tablets</h4>
           <h4>Fruits & Vegetables</h4>
           <h4>Women</h4>
           <h4>Staples</h4>
           <h4>Snacks & Branded Foods</h4>
           <h4>Beverage</h4>
           <h4>Fregrance</h4>
           <h4>Personal Care & Grooming</h4>
           <h4>Personal Care</h4>
           <h4>Home Care</h4>
           <h4>Mom & Baby</h4>
           <h4>Accessories</h4>
           <h4>Home & Kitchen</h4>
           <h4>Mom & Baby Care</h4>
           <h4>Books</h4>
           <h4>Pets</h4>
         </div>

         <h2>Filter</h2>
            <h4>inStock Products</h4>
            <input type="text" id="search" placeholder="Search">
         <div id="filter">
            <h2>Categories</h2>
                <h4>Cups, Mugs, & More</h4>
                <h4>Gardening</h4>
                <h4>Herbal & Ayurvedic</h4>
                <h4>Wall Decore</h4>
                <h4>Cookwar & Non Stick</h4>
                <h4> Interior Care</h4>
                <h4>Home Decore Accents</h4>
                <h2>Brand</h2>
            <h4>Whata Your Kick</h4>
            <h4>CAPMATE</h4>
            <h4>Cuber Industries</h4>
            <h4>Riara</h4>
            <h4>Nirlon</h4>
            <h4>Pranay</h4>
            <h4>KALAPAMBH</h4>
            <h4>Lushomes</h4>
            <h4>Kraft Seeds</h4>
            <h4>PETS EMPRE</h4>
            <h4>JASPO</h4>
            <h4>Trustbasket</h4>
            <h4>JAAMSO ROYALS</h4>
            <h4>RIDERSCART</h4>
         </div>
      </div>

       <div id="container"></div>
      </div> 
    
      <div id="footer"></div>
   
    </body>
</html>
  

<script type="module">
    import {navbar} from "../navbar/components.js";
   document.getElementById("kcnavbar").innerHTML=navbar();
   import {sidebar} from "../sidebar/sidebar.js";
   document.getElementById("sidebar").innerHTML=sidebar();

   import {footer} from "../footer/footer.js";
   document.getElementById("footer").innerHTML=footer();

   
   </script>


<script > 
let container=document.getElementById("container");

let arr__data=[
{
"name":"Onion 5 kg (Pack)",
"image":"https://www.jiomart.com/images/product/150x150/590002136/onion-5-kg-pack-product-images-o590002136-p590002136-0-202203141906.jpg",
"price":105.00
},
{
"name":"Sweet Corn 1 pc (Approx 250 g - 450 g)",
"image":"https://www.jiomart.com/images/product/150x150/590001266/sweet-corn-1-pc-approx-250-g-450-g-product-images-o590001266-p590001266-0-202203170359.jpg",
"price":17.00
},
{
"name":"Potato per kg",
"image":"https://www.jiomart.com/images/product/150x150/590003516/potato-per-kg-product-images-o590003516-p590003516-0-202203170642.jpg",
"price":33.00
},
{
"name":"Onion 1 kg",
"image":"https://www.jiomart.com/images/product/150x150/590003515/onion-1-kg-product-images-o590003515-p590003515-0-202203170724.jpg",
"price":22.00
},
{
"name":"Coconut 1 pc (Approx 350 g - 600 g)",
"image":"https://www.jiomart.com/images/product/150x150/590000086/coconut-1-pc-approx-350-g-600-g-product-images-o590000086-p590000086-0-202203170206.jpg",
"price":23.00
},
{
"name":"Tomato 1 kg",
"image":"https://www.jiomart.com/images/product/150x150/590003517/tomato-1-kg-product-images-o590003517-p590003517-0-202203170629.jpg",
"price": 41.00
},
{
"name":"Ginger Indian 200 g",
"image":"https://www.jiomart.com/images/product/150x150/590003531/ginger-indian-200-g-product-images-o590003531-p590003531-0-202203171030.jpg",
"price":24.00
},
{
"name":"Bhendi (Okra) 250 g",
"image":"https://www.jiomart.com/images/product/150x150/590003550/bhendi-okra-500-g-product-images-o590003550-p590003550-0-202203170339.jpg",
"price":16.00
},
{
"name":"Button Mushroom 200 g",
"image":"https://www.jiomart.com/images/product/150x150/590000245/button-mushroom-200-g-product-images-o590000245-p590000245-0-202203151749.jpg",
"price":32.00
},
{
"name":"Green Chilli 200 g",
"image":"https://www.jiomart.com/images/product/150x150/590003533/green-chilli-200-g-product-images-o590003533-p590003533-0-202203150435.jpg",
"price":18.00
},
{
"name":"Lauki (Bottle Gourd) 1 kg",
"image":"https://www.jiomart.com/images/product/150x150/590000174/lauki-bottle-gourd-1-kg-product-images-o590000174-p590000174-0-202203170512.jpg",
"price": 89.00 
},
{
"name":"Indian Garlic 200 g",
"image":"https://www.jiomart.com/images/product/150x150/590003532/indian-garlic-200-g-product-images-o590003532-p590003532-0-202203141952.jpg",
"price": 18.00 
}
];



let renderDom =(data) =>{
container.innerHTML="";
       
    data.forEach((ele) => {
        let div =document.createElement("div");     
        let name =document.createElement("h4");
        let N=ele.name;
        Name= N.slice(0,55);
        console.log(Name);
        name.innerText=Name;
        name.id="name";
        let image =document.createElement("img");
        image.src=ele.image;
        let Price =document.createElement("h5");
        Price.innerText="Price Rs- "+ ele.price;
        Price.id="price";
        let div1 =document.createElement("div");
        AddTOCart = document.createElement("button");   
        AddTOCart.innerText="Add to Cart"; 
        PLUS = document.createElement("h1");   
        PLUS.innerText="+";    
        div1.append(AddTOCart,PLUS);
        div1.id="div1";
        div1.onclick=() =>{
         AddToCart(ele);
        }
        div1.onclick=() =>{
            ADDTOCART(ele);
        }
        div.append(image,name,Price,div1);
        container.append(div);
    });
}
renderDom(arr__data);


let arr_cart = JSON.parse(localStorage.getItem("ProductItem")) || [];


let ADDTOCART=(el)=>{
    let isPresent=false;
     arr_cart.forEach((ele)=>{
      if(ele.image==el.image && ele.name==el.name){
       // console.log("exist",el.image);
        isPresent=true;
      }
     });
     if(isPresent==true){
        return;
     }
     arr_cart.push(el);
     //console.log(el);
     localStorage.setItem("ProductItem",JSON.stringify(arr_cart));
   
}



let LTH = () =>{
 
arr__data.sort(function(a,b){
    return a.price-b.price;
});

 
renderDom(arr__data);

}

let HTL = () =>{
 
arr__data.sort(function(a,b){
    return b.price-a.price;
});
renderDom(arr__data);

}


let filter = () =>{

let filteR= +document.getElementById("filter1").value ;

if(filteR===0){
    renderDom(arr__data);
    return;
}
let data=arr__data.filter((ele)=>{
 return  ele.price<=filteR;
});

renderDom(data);
}


function openNav() {
document.getElementById("mySidebar").style.width = "340px";
document.getElementById("main").style.marginLeft = "250px";
}

function closeNav() {
document.getElementById("mySidebar").style.width = "0";
document.getElementById("main").style.marginLeft= "0";
}

 

</script>
